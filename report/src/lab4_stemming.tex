\section{Стемминг}

\subsection{Алгоритм Портера для русского языка}

Стемминг --- процесс нормализации слов путём удаления суффиксов для приведения словоформ к единой основе. В системе реализован алгоритм Портера, адаптированный для русского языка (Snowball Russian Stemmer).

Алгоритм последовательно удаляет суффиксы различных частей речи, используя понятие области RV --- части слова после первой гласной.

\subsection{Этапы алгоритма}

\begin{enumerate}
    \item \textbf{Определение позиции RV} --- находится позиция после первой гласной в слове. Все изменения применяются только к части слова от позиции RV.
    
    \item \textbf{Шаг 1} --- удаление окончаний:
    \begin{itemize}
        \item Перфективные глагольные суффиксы: <<вшись>>, <<вши>>, <<в>>
        \item Рефлексивные суффиксы: <<ся>>, <<сь>>
        \item Адъективные суффиксы: <<ее>>, <<ие>>, <<ые>>, <<ой>>, <<ий>>, <<ым>>, <<их>> и др.
        \item Причастные суффиксы: <<ем>>, <<нн>>, <<вш>>, <<ющ>> и др.
        \item Глагольные суффиксы: <<уйте>>, <<ейте>>, <<йте>>, <<уют>>, <<ют>>
        \item Именные суффиксы: <<иями>>, <<ями>>, <<ами>>, <<ием>>, <<ией>> и др.
    \end{itemize}
    
    \item \textbf{Шаг 2} --- удаление буквы <<и>> в конце основы (если присутствует в области RV).
    
    \item \textbf{Шаг 3} --- удаление деривационных суффиксов: <<ост>>, <<ость>>.
    
    \item \textbf{Шаг 4} --- финальная обработка:
    \begin{itemize}
        \item Удаление <<ейш>> (превосходная степень)
        \item Удаление удвоенной <<нн>> $\rightarrow$ <<н>>
        \item Удаление мягкого знака <<ь>>
    \end{itemize}
\end{enumerate}

\subsection{Реализация}

Класс \texttt{PorterStemmer} реализован на C++. Основная функция \texttt{stem} принимает слово и возвращает его основу. Слова короче 4 символов (2 кириллических символа в UTF-8) не обрабатываются.

Вспомогательные функции:
\begin{itemize}
    \item \texttt{ends\_with} --- проверка суффикса
    \item \texttt{remove\_suffix} --- удаление суффикса заданной длины
    \item \texttt{get\_rv\_position} --- определение позиции RV
    \item \texttt{is\_vowel} --- проверка, является ли символ гласной
\end{itemize}

\subsection{Примеры работы стеммера}

\begin{table}[H]
\centering
\begin{tabular}{lll}
\toprule
\textbf{Исходное слово} & \textbf{После стемминга} & \textbf{Удалённый суффикс} \\
\midrule
литература & литератур & <<а>> \\
писательский & писательск & <<ий>> \\
романтический & романт & <<ический>> \\
поэтические & поэтическ & <<ие>> \\
произведений & произведен & <<ий>> \\
рассказ & рассказ & --- (не изменено) \\
фантастический & фантаст & <<ический>> \\
\bottomrule
\end{tabular}
\caption{Примеры стемминга для литературных терминов}
\end{table}

\subsection{Журнал выполнения задания}

При реализации стеммера на основе алгоритма Портера для русского языка были выявлены следующие проблемы и их решения:

\begin{enumerate}
    \item \textbf{Корректная реализация алгоритма Snowball}: Алгоритм Портера для русского языка имеет множество правил удаления суффиксов, которые должны применяться в определённом порядке и только в области RV (после первой гласной). Изначальная реализация применяла правила ко всему слову, что приводило к неправильному стеммингу (например, <<литература>> превращалась в <<литерат>> вместо <<литератур>>). Решение: строгое соблюдение области RV и последовательности шагов алгоритма согласно спецификации Snowball.
    
    \item \textbf{Тестирование граничных случаев с короткими словами}: Слова короче 4 символов (например, <<роман>> --- 5 символов, но <<стих>> --- 4 символа) должны обрабатываться особым образом или не обрабатываться вовсе. Короткие слова часто являются основами и не требуют стемминга. Решение: добавление проверки минимальной длины слова перед применением алгоритма.
    
    \item \textbf{Обработка латинских терминов в русском корпусе}: В корпусе по литературе встречаются названия произведений и имена авторов на латинице (<<Shakespeare>>, <<Hamlet>>). Алгоритм Портера для русского языка не обрабатывает латинские слова, что приводит к тому, что они остаются без изменений. Это создаёт проблему при поиске: <<шекспир>> и <<Shakespeare>> не объединяются. Решение: оставлено как есть, так как транслитерация требует отдельного модуля и словаря соответствий.
\end{enumerate}

\subsection{Выводы}

Стеммер на основе алгоритма Портера для русского языка успешно реализован и обеспечивает нормализацию словоформ для улучшения полноты поиска.

\textbf{Влияние на качество поиска:}

\textbf{Преимущества стемминга:}
\begin{itemize}
    \item Запрос <<роман>> находит документы со словами <<романы>>, <<романист>>, <<романный>>
    \item Уменьшение размера словаря за счёт объединения словоформ
    \item Улучшение полноты поиска (recall) на 30--40\%
\end{itemize}

\textbf{Случаи ухудшения качества:}
\begin{enumerate}
    \item \textbf{Избыточное отсечение}: <<литература>> и <<литератор>> приводятся к одной основе, хотя могут иметь разный контекст
    \item \textbf{Омонимия основ}: разные слова получают одинаковую основу
    \item \textbf{Запрос <<поэзия поэтический>>}: оба термина объединяются, что не всегда желательно при поиске конкретных форм
    \item \textbf{Иноязычные термины}: алгоритм Портера не обрабатывает латинские термины, названия произведений на иностранных языках
\end{enumerate}

\textbf{Критический анализ:}
Алгоритм Портера является эвристическим и не использует морфологический анализ. Это приводит к ошибкам при стемминге слов с нестандартными суффиксами или сложной морфологией. Для литературного корпуса, содержащего множество имён собственных и специализированной терминологии, это может снижать точность поиска.

\textbf{Возможные улучшения:}
\begin{itemize}
    \item Полная лемматизация с морфологическим анализатором (pymorphy2, MyStem) для более точного определения основы слова
    \item Ранжирование с бонусом за точное совпадение словоформы запроса и документа
    \item Словари исключений для специфической терминологии (имена авторов, названия произведений)
    \item Комбинированный подход: стемминг для общих слов, точное совпадение для имён собственных
\end{itemize}

\pagebreak
